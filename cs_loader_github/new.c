#include "./defs.h"


signed __int64 sub_140001020(int *a1, __int64 a2, unsigned __int64 a3, __int64 a4, unsigned __int64 a5)
{
  __int64 v5; // r13@1
  unsigned __int64 v6; // rsi@1
  unsigned __int64 v7; // r15@1
  int *v8; // rax@1
  unsigned __int64 v9; // r9@2
  _DWORD *v10; // r8@2
  int v11; // ecx@3
  unsigned int v12; // ebx@4
  unsigned int v13; // er9@4
  unsigned __int64 v14; // r8@4
  unsigned __int8 v15; // r12@7
  unsigned int i; // er10@8
  int v17; // edx@10
  unsigned int v18; // er11@12
  unsigned int v19; // er14@17
  __int64 v20; // rdx@19
  unsigned __int64 v21; // r8@19
  unsigned __int64 v22; // rdi@24
  unsigned __int64 v23; // rbp@24
  signed __int64 v24; // r10@26
  unsigned __int16 v25; // r8@29
  int v26; // ecx@32
  unsigned int v27; // er8@32
  unsigned __int8 v29; // [rsp+40h] [rbp+8h]@0
  __int64 v30; // [rsp+48h] [rbp+10h]@1
  __int64 v31; // [rsp+58h] [rbp+20h]@1

  v31 = a4;
  v30 = a2;
  v5 = a2;
  v6 = 0LL;
  v7 = a3;
  v8 = a1;
  if ( *((_BYTE *)a1 + 16392) )
  {
    v12 = a1[4104];
    v13 = a1[4105];
    v14 = *((_QWORD *)a1 + 2050);
  }
  else
  {
    v9 = 0LL;
    v10 = a1 + 2;
    do
    {
      v11 = (unsigned __int8)v9++;
      *v10 = v11;
      ++v10;
    }
    while ( v9 < 0x100 );
    *((_QWORD *)v8 + 2050) = 0LL;
    v12 = 0;
    *((_QWORD *)v8 + 2052) = 0LL;
    v13 = 0;
    *((_WORD *)v8 + 8196) = 1;
    v14 = 0LL;
    v8[1] = 16843010;
    *v8 = 9;
  }
  if ( v14 >= v7 )
    return (unsigned int)v6;
  v15 = v29;
  while ( 1 )
  {
    for ( i = *v8; v13 < i; *((_QWORD *)v8 + 2050) = ++v14 )
    {
      if ( v14 >= v7 )
        break;
      v17 = *(unsigned __int8 *)(v14 + v5) << v13;
      v13 += 8;
      v12 |= v17;
    }
    v8[4104] = v12;
    v8[4105] = v13;
    if ( v13 < i )
      return 4294967294LL;
    v13 -= i;
    v18 = v12 & ((1 << i) - 1);
    v12 >>= i;
    if ( v18 == 256 )
    {
      if ( *((_WORD *)v8 + 2) != 258 )
      {
        v8[1] = 16843010;
        *v8 = 9;
        *((_BYTE *)v8 + 16393) = 0;
      }
      goto LABEL_38;
    }
    if ( v18 == 257 )
      return (unsigned int)v6;
    if ( *((_BYTE *)v8 + 16393) )
      return 4294967293LL;
    v19 = *((unsigned __int16 *)v8 + 2);
    if ( v18 > v19 )
      return 4294967294LL;
    if ( v18 >= v19 )
    {
      v20 = *((unsigned __int16 *)v8 + 3);
      v21 = ((unsigned int)v8[v20 + 2] >> 20) + 1;
      if ( *((_WORD *)v8 + 3) == 257 )
        return 4294967294LL;
    }
    else
    {
      LOWORD(v20) = v18;
      v21 = ((unsigned int)v8[(unsigned __int16)v18 + 2] >> 20) + 1;
    }
    if ( v21 > *((_QWORD *)v8 + 2053) )
      *((_QWORD *)v8 + 2053) = v21;
    if ( v21 + 1 > a5 )
      return 0xFFFFFFFFLL;
    v22 = v21 + v6;
    v23 = v21 + v6 + 1;
    if ( v23 > a5 )
      return (unsigned int)v6;
    if ( v21 )
    {
      v24 = v22 + v31 - 1;
      do
      {
        --v24;
        v15 = v8[(unsigned __int16)v20 + 2];
        *(_BYTE *)(v24 + 1) = v15;
        LOWORD(v20) = ((unsigned int)v8[(unsigned __int16)v20 + 2] >> 8) & 0xFFF;
        --v21;
      }
      while ( v21 );
      v5 = v30;
    }
    v25 = *((_WORD *)v8 + 3);
    v6 = v22;
    if ( v25 != 257 )
    {
      if ( v18 >= v19 )
      {
        *(_BYTE *)(v22 + v31) = v15;
        v6 = v23;
        v25 = *((_WORD *)v8 + 3);
      }
      v8[*((unsigned __int16 *)v8 + 2) + 2] = v15 | (v25 << 8) | ((v8[v25 + 2] & 0xFFF00000) + 0x100000);
      v26 = *v8;
      v27 = *((unsigned __int16 *)v8 + 2);
      if ( v27 < (1 << *v8) - 1 )
        goto LABEL_36;
      if ( v26 != 12 )
      {
        *v8 = v26 + 1;
LABEL_36:
        *((_WORD *)v8 + 2) = v27 + 1;
        goto LABEL_37;
      }
      *((_BYTE *)v8 + 16393) = 1;
    }
LABEL_37:
    *((_WORD *)v8 + 3) = v18;
LABEL_38:
    v14 = *((_QWORD *)v8 + 2050);
    if ( v14 >= v7 )
      return (unsigned int)v6;
  }
}
